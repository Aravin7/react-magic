!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):"object"==typeof exports?exports.ReactMagic=e():t.ReactMagic=e()}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){!function(){"use strict";function t(t,e,n){var i,o=new XMLHttpRequest;return e?(o.open("post",t,!0),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i=Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&")):o.open("get",t+"?cachebust="+Date.now(),!0),o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.onreadystatechange=function(){4===o.readyState&&n(o.responseText,o)},o.send(i),o}function e(t){var e="/** @jsx React.DOM */ "+h.convert(t);try{return JSXTransformer.exec(e)}catch(n){throw new Error("Something bad happened when transforming HTML to JSX: "+n)}}function i(t){var n=e(t);React.renderComponent(n,document.body)}function o(t){t.target&&t.target.tagName&&"a"==t.target.tagName.toLowerCase()&&(history.pushState(null,null,t.target.href),r(),t.preventDefault())}function s(t){var e=a(t.target);history.pushState({formValues:e},null,t.target.action),r(),t.preventDefault()}function r(){document.title="Loading...",document.body.classList.add("react-loading"),t(window.location.href,history.state&&history.state.formValues,u)}function u(t,e){var n=e.getResponseHeader("Content-Type").split(";")[0],o=-1===p.indexOf(n)||e.status<200||e.status>299;if(o)return void window.location.reload();var s=c(t,"body"),r=c(t,"title");document.title=r,i(s),document.body.classList.remove("react-loading")}function a(t){for(var e={},n=t.getElementsByTagName("input"),i=0,o=n.length;o>i;i++){var s=n[i];("checkbox"!==s.type&&"radio"!==s.type||s.checked)&&(e[n[i].name]=n[i].value)}return e}function c(t,e){var n="<"+e,i="</"+e,o=t.indexOf(n),s=t.indexOf(">",o),r=t.lastIndexOf(i),u=t.slice(s+1,r);return u}function l(){h=new d({createClass:!1});var t=document.body.innerHTML;i(t),i(t),f()}function f(){document.body.addEventListener("click",o,!1),document.body.addEventListener("submit",s,!1),window.addEventListener("popstate",r,!1)}var h,d=n(1),p=["text/html","text/plain"];l()}()},function(t){/** @preserve
	 *  Copyright (c) 2014, Facebook, Inc.
	 *  All rights reserved.
	 *
	 *  This source code is licensed under the BSD-style license found in the
	 *  LICENSE file in the root directory of this source tree. An additional grant
	 *  of patent rights can be found in the PATENTS file in the same directory.
	 *
	 */
"use strict";function e(t,e){if(1===e)return t;if(0>e)throw new Error;for(var n="";e;)1&e&&(n+=t),(e>>=1)&&(t+=t);return n}function n(t,e){return t.slice(-e.length)===e}function i(t,e){return n(t,e)?t.slice(0,-e.length):t}function o(t){return t.replace(/-(.)/g,function(t,e){return e.toUpperCase()})}function s(t){return!/[^\s]/.test(t)}function r(t){return void 0!==t&&null!==t&&("number"==typeof t||parseInt(t,10)==t)}var u={ELEMENT:1,TEXT:3,COMMENT:8},a={"for":"htmlFor","class":"className"},c=function(t){this.config=t||{},void 0===this.config.createClass&&(this.config.createClass=!0),this.config.indent||(this.config.indent="  "),this.config.outputClassName||(this.config.outputClassName="NewComponent")};c.prototype={reset:function(){this.output="",this.level=0},convert:function(t){this.reset();var e,e;return e=document.createElement("div"),e.innerHTML="\n"+this._cleanInput(t)+"\n",this.config.createClass&&(this.output=this.config.outputClassName?"var "+this.config.outputClassName+" = React.createClass({\n":"React.createClass({\n",this.output+=this.config.indent+"render: function() {\n",this.output+=this.config.indent+this.config.indent+"return (\n"),this._onlyOneTopLevel(e)?this._traverse(e):(this.output+=this.config.indent+this.config.indent+this.config.indent,this.level++,this._visit(e)),this.output=this.output.trim()+"\n",this.config.createClass&&(this.output+=this.config.indent+this.config.indent+");\n",this.output+=this.config.indent+"}\n",this.output+="});"),this.output},_cleanInput:function(t){return t=t.trim(),t=t.replace(/<script(.*?)<\/script>/g,"")},_onlyOneTopLevel:function(t){if(1===t.childNodes.length&&t.childNodes[0].nodeType===u.ELEMENT)return!0;for(var e=!1,n=0,i=t.childNodes.length;i>n;n++){var o=t.childNodes[n];if(o.nodeType===u.ELEMENT){if(e)return!1;e=!0}else if(o.nodeType===u.TEXT&&!s(o.textContent))return!1}return!0},_getIndentedNewline:function(){return"\n"+e(this.config.indent,this.level+2)},_visit:function(t){this._beginVisit(t),this._traverse(t),this._endVisit(t)},_traverse:function(t){this.level++;for(var e=0,n=t.childNodes.length;n>e;e++)this._visit(t.childNodes[e]);this.level--},_beginVisit:function(t){switch(t.nodeType){case u.ELEMENT:this._beginVisitElement(t);break;case u.TEXT:this._visitText(t);break;case u.COMMENT:this._visitComment(t);break;default:console.warn("Unrecognised node type: "+t.nodeType)}},_endVisit:function(t){switch(t.nodeType){case u.ELEMENT:this._endVisitElement(t);break;case u.TEXT:case u.COMMENT:}},_beginVisitElement:function(t){for(var e=t.tagName.toLowerCase(),n=[],i=0,o=t.attributes.length;o>i;i++)n.push(this._getElementAttribute(t,t.attributes[i]));this.output+="<"+e,n.length>0&&(this.output+=" "+n.join(" ")),t.firstChild&&(this.output+=">")},_endVisitElement:function(t){this.output=i(this.output,this.config.indent),this.output+=t.firstChild?"</"+t.tagName.toLowerCase()+">":" />"},_visitText:function(t){var e=t.textContent;e.indexOf("\n")>-1&&(e=t.textContent.replace(/\n\s*/g,this._getIndentedNewline())),this.output+=e},_visitComment:function(t){this.output+="{/*"+t.textContent.replace("*/","* /")+"*/}"},_getElementAttribute:function(t,e){switch(e.name){case"style":return this._getStyleAttribute(e.value);default:var n=a[e.name]||e.name,i=n+"=";return i+=r(e.value)?"{"+e.value+"}":'"'+e.value.replace('"',"&quot;")+'"'}},_getStyleAttribute:function(t){var e=new l(t).toJSXString();return"style={{"+e+"}}"}};var l=function(t){this.parse(t)};l.prototype={parse:function(t){this.styles={},t.split(";").forEach(function(t){t=t.trim();var e=t.indexOf(":"),n=t.substr(0,e),i=t.substr(e+1).trim();""!==n&&(this.styles[n]=i)},this)},toJSXString:function(){var t=[];for(var e in this.styles)this.styles.hasOwnProperty(e)&&t.push(this.toJSXKey(e)+": "+this.toJSXValue(this.styles[e]));return t.join(", ")},toJSXKey:function(t){return o(t)},toJSXValue:function(t){return r(t)?t:n(t,"px")?i(t,"px"):"'"+t.replace(/'/g,'"')+"'"}},t.exports=c}])});